# オンライン学習室Webアプリ 開発仕様書兼作業記録

## 1. 概要
高校生をターゲットとし、自宅にいながら図書館の自習室のような一体感と適度な緊張感の中で学習に集中できる環境を提供することを目的としたWebアプリケーション。

## 2. 主要機能要件
- **学習ルーム機能:** ユーザーが学習ルームを作成、または既存のルームに参加できる。
- **参加者リストとリアルタイムステータス表示:**
    - ルーム内の参加者を一覧表示する。
    - 各参加者の現在の状態（例：「集中中」「休憩中」）と、そのセッションでの累計学習時間をリアルタイムで表示する。
- **個人用カウントアップタイマー:**
    - 各ユーザーが個別に操作できるストップウォッチ形式のタイマー。
    - タイマーの開始/停止に応じて、ステータスがリアルタイムで他の参加者に共有される。
- **学習記録機能:**
    - ルーム退出時に、そのセッションでの合計学習時間をサーバーに記録する。

## 3. 技術スタック
- **パッケージマネージャー:** pnpm
- **フロントエンド:** React (TypeScript), Vite, Material-UI (MUI)
- **バックエンド:** Fastify (Node.js)
- **API通信:** tRPC
- **リアルタイム通信:** WebSocket (socket.io)

## 4. プロジェクト構成 (現在)
```
online-study-room/
├── client/
│   ├── public/
│   ├── src/
│   ├── .eslintrc.cjs
│   ├── index.html
│   ├── package.json
│   ├── pnpm-lock.yaml
│   ├── tsconfig.json
│   └── vite.config.ts
└── server/
```

## 5. 作業計画と進捗

### ステップ1: 環境構築
- **ステータス:** 進行中
- **完了済みの作業:**
    - `online-study-room` プロジェクトディレクトリの作成。
    - `client` および `server` ディレクトリの作成。
    - `client` ディレクトリにて、`pnpm` を使用してVite (React+TS)プロジェクトを初期化。
    - `client` ディレクトリに必要なライブラリ (`@mui/material`, `@trpc/client`, `socket.io-client`等) を`pnpm`でインストール。
- **残りの作業:**
    - `server` ディレクトリで `pnpm init` を実行し、Node.jsプロジェクトを初期化する。
    - `server` ディレクトリに必要なライブラリ (Fastify, tRPC, Zod, Socket.IO等) を`pnpm`でインストールする。

### ステップ2: バックエンドAPIとtRPCルーターの定義
- **ステータス:** 未着手

### ステップ3: UIコンポーネント作成
- **ステータス:** 未着手

### ステップ4: 機能実装 (フロントエンド + バックエンド連携)
- **ステータス:** 未着手

### ステップ5: 統合とテスト
- **ステータス:** 未着手

## 6. 次の作業
`online-study-room/server` ディレクトリに移動し、`pnpm init` コマンドを実行してバックエンドプロジェクトの初期化を完了させる。
